<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="invoice_payment_wizard" name="Invoice Payment Wizard">
        <div class="saas_payment_wizard_container">
            <!-- Payment Header -->
            <div class="saas_payment_header">
                <h3>
                    <i class="fa fa-credit-card" style="margin-right: 10px;"></i>
                    Pay with
                </h3>
                <p class="text-muted">Complete your payment to access your SaaS instance</p>
            </div>
            
            <!-- Invoice Summary -->
            <div class="saas_invoice_summary">
                <div class="row">
                    <div class="col-md-6">
                        <h6>Invoice Details</h6>
                        <p><strong>Invoice:</strong> <span t-esc="invoice.name"/></p>
                        <p><strong>Package:</strong> <span t-esc="client.sc_package_id.pkg_name"/></p>
                        <p><strong>Billing:</strong> <span t-esc="client.sc_subscription_period.title()"/></p>
                    </div>
                    <div class="col-md-6 text-right">
                        <h6>Amount Due</h6>
                        <h4 class="saas_amount_due">
                            <span t-esc="currency.symbol"/><span t-esc="amount"/>
                        </h4>
                    </div>
                </div>
            </div>
            
            <!-- Payment Methods Section -->
            <div class="saas_payment_methods_section">
                <h5>CHOOSE A PAYMENT METHOD</h5>
                
                <!-- Payment Form -->
                <div class="saas_payment_form_container">
                    <t t-call="payment.form">
                        <t t-set="providers" t-value="providers_sudo"/>
                        <t t-set="payment_methods_sudo" t-value="payment_methods_sudo"/>
                        <t t-set="tokens_sudo" t-value="tokens_sudo"/>
                        <t t-set="reference_prefix" t-value="reference_prefix"/>
                        <t t-set="amount" t-value="amount"/>
                        <t t-set="currency" t-value="currency"/>
                        <t t-set="partner_id" t-value="partner_id"/>
                        <t t-set="transaction_route" t-value="transaction_route"/>
                        <t t-set="landing_route" t-value="landing_route"/>
                        <t t-set="access_token" t-value="access_token"/>
                        <t t-set="mode" t-value="mode"/>
                        <t t-set="allow_token_selection" t-value="allow_token_selection"/>
                        <t t-set="allow_token_deletion" t-value="allow_token_deletion"/>
                        <t t-set="default_token_id" t-value="default_token_id"/>
                    </t>
                </div>
            </div>
            
            <!-- Payment Note -->
            <div class="saas_payment_note">
                <div class="alert alert-info">
                    <i class="fa fa-info-circle" style="margin-right: 8px;"></i>
                    After successful payment, your SaaS instance will be automatically deployed and you'll be redirected to your dashboard.
                </div>
            </div>
        </div>
    </template>
</odoo>